---
title: "[ìŠ¤í”„ë§ ì…ë¬¸] ì„¹ì…˜2. ìŠ¤í”„ë§ ì›¹ ê°œë°œ ê¸°ì´ˆ"
published: false
excerpt: "ìŠ¤í”„ë§ ì…ë¬¸ - ê¹€ì˜í•œ ë‹˜ì˜ ê°•ì˜ ë‚´ìš©ì…ë‹ˆë‹¤."
toc: true
toc_sticky: true
categories:
  - Spring
tags:
  - Backend
  - Java
  - ê¹€ì˜í•œ
last_modified_at: 2021-05-30 23:11:20
---

# ì„¹ì…˜2. ìŠ¤í”„ë§ ì›¹ ê°œë°œ ê¸°ì´ˆ

<span style="color:grey">[ìŠ¤í”„ë§ ì…ë¬¸ - ì½”ë“œë¡œ ë°°ìš°ëŠ” ìŠ¤í”„ë§ ë¶€íŠ¸, ì›¹ MVC, DB ì ‘ê·¼ ê¸°ìˆ ] ë‚´ìš©ì…ë‹ˆë‹¤.</span>  
  
## 2.1. ì •ì  ì»¨í…ì¸ 
welcomepageì™€ ê°™ì´  
**"ì„œë²„ì— ìˆëŠ” HTML íŒŒì¼ ê·¸ëŒ€ë¡œ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë‚´ë ¤ì£¼ëŠ” ê²ƒ"** ì„ ë§í•œë‹¤.  
> [ìŠ¤í”„ë§ ë¶€íŠ¸ì˜ ì •ì  ì»¨í…ì¸  ê¸°ëŠ¥](https://docs.spring.io/spring-boot/docs/2.3.1.RELEASE/reference/html/spring-boot-features.html#boot-features-spring-mvc-static-content)
  
ì˜ˆì‹œë¡œ hello-static.htmlì„ ë§Œë“¤ì–´ë³´ì.
  
```html
<!DOCTYPE HTML>
<html>
    <head>
        <title>static content</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    </head>
    <body>
    ì •ì  ì»¨í…ì¸  ì…ë‹ˆë‹¤.
    </body>
</html>
```
  
ì„œë²„ë¥¼ ì‹¤í–‰í•˜ê³ , <http://localhost:8080/hello-static.html> ì ‘ì†ì„ í•˜ë©´,  
ì •ì  ì»¨í…ì¸  ì…ë‹ˆë‹¤. ë¼ëŠ” ë¬¸êµ¬ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.  
  
ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” ì •ì  ì»¨í…ì¸  ê¸°ëŠ¥ì„ ìë™ìœ¼ë¡œ ì œê³µí•˜ë©°,  
ë‚´ë¶€ì—ì„œëŠ” ë‹¤ìŒê³¼ ìˆœì„œë¡œ ì¼ì´ ë²Œì–´ì§„ë‹¤.  
![ì´ë¯¸ì§€](/assets/images/Spring/ìŠ¤í”„ë§ì…ë¬¸/ì„¹ì…˜2/1.png)
  
1. ë‚´ì¥ í†°ì¼“ ì„œë²„ê°€ ìš”ì²­ì„ ë°›ê³ ,  
2. ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë¨¼ì € ì°¾ëŠ”ë‹¤. (ìš°ì„ ìˆœìœ„ê°€ ë” ë†’ë‹¤!)  
3. ì—†ë‹¤ë©´, ë‹¤ìŒì—ëŠ” ë‚´ë¶€ì— ìˆëŠ” ë¦¬ì†ŒìŠ¤ì—ì„œ ì°¾ê³ ,  
   > `/staic`í´ë”ì—ì„œ ì°¾ì•„ì„œ ë‚´ë¦¼!
4. ì°¾ì€ ì •ì  ì»¨í…ì¸ ë¥¼ ì›¹ ë¸Œë¼ìš°ì €ë¡œ ë°˜í™˜í•œë‹¤.  
  
## 2.2. MVCì™€ í…œí”Œë¦¿ ì—”ì§„
ê°€ì¥ ë§ì´ í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ JSP, PHP ë“±ì´ ì—¬ê¸°ì— ì†í•˜ë©°,  
**"ì„œë²„ì—ì„œ ë Œë”ë§ì„ í•´ì„œ í´ë¼ì´ì–¸íŠ¸ì— ë‚´ë ¤ì£¼ëŠ” ë°©ì‹"** ì„ ë§í•œë‹¤.  
ì¦‰, ê·¸ëƒ¥ ì£¼ëŠ”ê²Œ ì•„ë‹ˆë¼ ì„œë²„ì—ì„œ ë™ì ìœ¼ë¡œ ë³€í˜•í•´ì„œ ë‚´ë ¤ì¤€ë‹¤ëŠ” ê²ƒì´ë‹¤.  
  
ê³¼ê±°ì—ëŠ” ê²½ìš° Viewì™€ Controllerê°€ ë”°ë¡œ ë¶„ë¦¬ë˜ì–´ ìˆì§€ ì•Šê³ , Viewì—ì„œ ëª¨ë“  ê²ƒì„ ë‹¤ í–ˆì—ˆìŒ  
ê·¸ëŸ¬ë‚˜ **ì—­í• ê³¼ ì±…ì„**, **ê´€ì‹¬ì‚¬ ë¶„ë¦¬**ë¥¼ ìœ„í•´ êµ¬ë¶„í•˜ê¸° ì‹œì‘í–ˆìŒ.  
  
ViewëŠ” ì£¼ë¡œ í™”ë©´ì„ ê·¸ë¦¬ëŠ” ë°ì—ë§Œ ì§‘ì¤‘í•˜ê³ ,  
ControllerëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê´€ë ¨ í˜¹ì€ ë‚´ë¶€ì ì¸ ì²˜ë¦¬ì— ì—­ëŸ‰ì„ ì§‘ì¤‘ì‹œí‚¤ë„ë¡ í•˜ì˜€ìŒ.  
  
ì˜ˆì‹œë¡œ Controllerì™€ Viewë¥¼ ë§Œë“¤ì–´ë³´ì.  
  
**Controller**
```java
@Controller
public class HelloController {
      @GetMapping("hello-mvc")
      public String helloMvc(@RequestParam("name") String name, Model model) {
          model.addAttribute("name", name);
          return "hello-template";
      }
  }
```
  
`@Controller`  
> Spring MVC ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ <u>ì£¼ë¡œ Viewë¥¼ ë°˜í™˜í•˜ê¸° ìœ„í•´</u> ì‚¬ìš©í•©ë‹ˆë‹¤.  
> ë§Œì•½, Dataë¥¼ ë°˜í™˜í•´ì£¼ë ¤ë©´ @Response ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ì•¼í•¨!  
  
`@GetMapping`
> HTTP GET ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ë©”ì„œë“œë¥¼ ë§µí•‘(@RequestMapping)í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜ì´ë‹¤.  
> ë©”ì„œë“œ(url)ì— ë”°ë¼ ì–´ë–¤ í˜ì´ì§€ë¥¼ ë³´ì—¬ì¤„ì§€ ê²°ì •í•˜ëŠ” ì—­í• ì„ í•œë‹¤.  
> ì—¬ê¸°ì„œëŠ” /hello-mvcë¥¼ í†µí•´ í•´ë‹¹ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ë“¤ì–´ì˜¤ê²Œ í•˜ê³ ,  
> "hello-template"ë¼ëŠ” viewë¥¼ ë°˜í™˜í•˜ê²Œ í•©ë‹ˆë‹¤.  
  
`@RequestParam`
> ë‹¨ì¼ HTTP ìš”ì²­ íŒŒë¼ë¯¸í„°ë¥¼ ë©”ì†Œë“œ íŒŒë¼ë¯¸í„°ì— ë„£ì–´ì£¼ëŠ” ì• ë…¸í…Œì´ì…˜  
> @RequestParam("ê°€ì ¸ì˜¬ ë°ì´í„°ì˜ ì´ë¦„") [ë°ì´í„°íƒ€ì…] [ê°€ì ¸ì˜¨ë°ì´í„°ë¥¼ ë‹´ì„ ë³€ìˆ˜]
  
**View**
  
```html
<html xmlns:th="http://www.thymeleaf.org">
  <body>
     <p th:text="'hello ' + ${name}">hello! empty</p> 
  </body>
</html>
```
  
ì„œë²„ë¥¼ ì‹¤í–‰í•˜ê³  ë‹¤ìŒì˜ ê²½ë¡œë¡œ ì ‘ê·¼í•´ë³´ì.  
<http://localhost:8080/hello-mvc?name=spring>  
> ?name=spring ì„ í†µí•´ springì´ modelì— ë‹´ê¸°ê³   
> ${name}ì˜ $ì€ modelì—ì„œ ê°’ì„ êº¼ë‚¸ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤!  
> ì—¬ê¸°ì„  ì…ë ¥ ë°›ì€ ê°’ì— ì˜í•´ ë³€í˜•ëœ ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ëŠ” ë™ì í˜•íƒœë¥¼ ë³´ì—¬ì¤€ë‹¤!  
  
![ì´ë¯¸ì§€](/assets/images/Spring/ìŠ¤í”„ë§ì…ë¬¸/ì„¹ì…˜2/2.png)
  
1. ë‚´ì¥ í†°ì¼“ ì„œë²„ë¥¼ ê±°ì³, ìŠ¤í”„ë§ìœ¼ë¡œ ê°„ë‹¤.  
2. helloControllerì— ë§¤í•‘(`@GetMapping`)ì´ ë˜ìˆìœ¼ë¯€ë¡œ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì¤€ë‹¤.  
3. ìŠ¤í”„ë§ì— ë„˜ê²¨ì£¼ë©´ì„œ hello-templateë¡œ ë„˜ê¸´ë‹¤.  
4. viewResolverì—ì„œëŠ” htmlì„ ì°¾ì•„ templateì—”ì§„ì— ë„˜ê¸´ë‹¤.
5. ë„˜ê²¨ì§„ íŒŒì¼ì€ HTMLë¡œ ë³€í™˜ë˜ì–´ ë„˜ì–´ê°„ë‹¤.  
  
  
## 2.3. API
ì •ì  ì»¨í…ì¸ ë¥¼ ì œì™¸í•˜ë©´ ì‚¬ì‹¤ ë‘ê°€ì§€ë§Œ ê¸°ì–µí•˜ë©´ ëœë‹¤.  
"HTMLë¡œ ë‚´ë¦¬ëŠëƒ" â†”ï¸ "API ë°©ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë°”ë¡œ ë‚´ë¦¬ëŠëƒ"  
  
ì—¬ê¸°ì„œ API ë°©ì‹ì€  
JSONì´ë¼ëŠ” data formatìœ¼ë¡œ clientì—ê²Œ ë‚´ë ¤ì£¼ëŠ” ë°©ì‹ì„ ë§í•œë‹¤.  
>"ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” ê²ƒ."  
>"HttpMessageConverterë¥¼ í†µí•´ jsonìŠ¤íƒ€ì¼ë¡œ ë°˜í™˜í•´ì£¼ëŠ” ê²ƒ"  
>"View ì—†ì´ HttpResponseë‹´ì•„ì„œ ë°”ë¡œ ë°˜í™˜í•´ì£¼ëŠ” ê²ƒ"  
  
>JSON ? Key - Value ë¡œ ì´ë£¨ì–´ì§„ êµ¬ì¡°  
  
### @ResponseBody  
<span style="color:grey">ì—¬ê¸°ì„œ BodyëŠ” HTMLì˜ ë°”ë”” íƒœê·¸ê°€ ì•„ë‹˜.</span>  
"HTTPì˜ ë°”ë””ì— ì´ ë°ì´í„°ë¥¼ ë‚´ê°€ ì§ì ‘ ë„£ê² ë‹¤" ë¼ëŠ” ê²ƒì„ ë§í•œë‹¤.  
ì¦‰, viewë¥¼ ë°˜í™˜í•˜ëŠ” `ViewResolver`ë¡œ ë˜ì§€ì§€ ì•ŠëŠ”ë‹¤.  
  
**@ResponseBody ë¬¸ì ë°˜í™˜**  
```java
@Controller
public class HelloController {

    @GetMapping("hello-string")
    @ResponseBody // ë°ì´í„°ë¥¼ ë°˜í™˜í•´ì£¼ë ¤ê³  í•œë‹¤!
    public String helloString(@RequestParam("name") String name){
        return "hello " + name;
    }
}
```
  
ì„œë²„ë¥¼ ì‹¤í–‰í•˜ê³  ë‹¤ìŒì˜ ê²½ë¡œë¡œ ì ‘ê·¼í•´ë³´ì.  
<http://localhost:8080/hello-string?name=spring>  
![ì´ë¯¸ì§€](/assets/images/Spring/ìŠ¤í”„ë§ì…ë¬¸/ì„¹ì…˜2/4.png)  
> ë¬¸ì ë‚´ìš©ì´ ê·¸ëŒ€ë¡œ ë°˜í™˜ë˜ì—ˆë‹¤.
  
**@ResponseBody ê°ì²´ ë°˜í™˜**  
```java
@Controller
public class HelloController {
    @GetMapping("hello-api")
    @ResponseBody
    public Hello helloApi(@RequestParam("name") String name) {
        Hello hello = new Hello();
        hello.setName(name);
        return hello;
    }
    static class Hello {
        private String name;
        public String getName() {
            return name;
        }
        public void setName(String name) {
            this.name = name;
        }
    }
}
```
  
ì„œë²„ë¥¼ ì‹¤í–‰í•˜ê³  ë‹¤ìŒì˜ ê²½ë¡œë¡œ ì ‘ê·¼í•´ë³´ì.  
<http://localhost:8080/hello-api?name=spring>  
![ì´ë¯¸ì§€](/assets/images/Spring/ìŠ¤í”„ë§ì…ë¬¸/ì„¹ì…˜2/5.png)  
> JSON ìŠ¤íƒ€ì¼ë¡œ ë°˜í™˜ë˜ì—ˆë‹¤.  

![ì´ë¯¸ì§€](/assets/images/Spring/ìŠ¤í”„ë§ì…ë¬¸/ì„¹ì…˜2/3.png)
  
1. `@ResponseBody` ë¥¼ ì‚¬ìš©  
2. HTTPì˜ BODYì— ë¬¸ì ë‚´ìš©ì„ ì§ì ‘ ë°˜í™˜  
3. `viewResolver` ëŒ€ì‹ ì— `HttpMessageConverter` ê°€ ë™ì‘í•¨  
 - ê¸°ë³¸ ë¬¸ìì²˜ë¦¬: StringHttpMessageConverter
 - ê¸°ë³¸ ê°ì²´ì²˜ë¦¬: MappingJackson2HttpMessageConverter
 - ìŠ¤í”„ë§ ë¶€íŠ¸ì—ëŠ” byte ì²˜ë¦¬ ë“±ë“± ê¸°íƒ€ ì—¬ëŸ¬ HttpMessageConverterê°€ ê¸°ë³¸ìœ¼ë¡œ ë“±ë¡ë˜ì–´ ìˆë‹¤.  
  
> ì°¸ê³ : ì—¬ê¸°ì„œëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ HTTP Accept í•´ë”ì™€ ì„œë²„ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ ë°˜í™˜ íƒ€ì… ì •ë³´ ë‘˜ì„ ì¡°í•©í•´ì„œ HttpMessageConverter ê°€ ì„ íƒë˜ì—ˆë‹¤.  
  
ë-!ğŸ˜‹
  