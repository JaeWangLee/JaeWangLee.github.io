---
title: "[ì‹¤ì „ JSP] 13. Cookie"
published: false
excerpt: "Cookieì— ëŒ€í•´ ì•Œì•„ë³´ì"
toc: true
toc_sticky: true
categories:
  - JSP
tags:
  - JSP
  - Servlet
  - ì›¹í”„ë¡œê·¸ë¨
last_modified_at: 2021-04-07 20:36:20
---

# 13. Cookie ğŸª
<span style="color:grey">[ì‹¤ì „ JSP (renew ver.) - ì‹ ì… í”„ë¡œê·¸ë˜ë¨¸ë¥¼ ìœ„í•œ ê°•ì¢Œ] ë‚´ìš©ì…ë‹ˆë‹¤.</span>

í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ì˜ ì—°ê²°ì„ ìœ ì§€ì‹œì¼œì£¼ëŠ” ë°©ë²• ì²«ë²ˆì§¸.  
`ì¿ í‚¤`ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì  

## 13-1. Cookieë€?
  
ì¼ìƒìƒí™œì—ì„œ ì¿ í‚¤ğŸªë¥¼ ë¨¹ë‹¤ë³´ë©´ í˜ë¦¬ê²Œ ë˜ëŠ”ë°,  
í”„ë¡œê·¸ë¨ ê´€ì ìœ¼ë¡œëŠ” `í”ì ì„ ë‚¨ê¸°ëŠ” ê²ƒ`ì´ë¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
  
ì¦‰, ì¿ í‚¤ëŠ” **'ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ì˜ ì—°ê²°ì„ ì‹œë„í•œ í”ì '** ì„ ë§í•˜ê³ ,  
ì´ëŸ¬í•œ í”ì ì€ <u>ê³¼ê±°ì˜ ì ‘ì†ì„ ì´ì–´ë‚˜ê°ˆ ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” ì—­í• </u>ì„ í•©ë‹ˆë‹¤.  
  
>**[ http í”„ë¡œí† ì½œì˜ íŠ¹ì§• ]**
> httpëŠ” í•œë²ˆ ìš”ì²­ë°›ê³  ì‘ë‹µì„ í•˜ê³ ë‚˜ë©´ ì—°ê²°ì„ ë°”ë¡œ í•´ì œí•´ë²„ë¦½ë‹ˆë‹¤.  
> ê·¸ ì´ìœ ëŠ” í•˜ë‚˜ì˜ ì„œë²„ì— ìˆ˜ ë§ì€ í´ë¼ì´ì–¸íŠ¸ê°€ ë¶™ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.  
> ë¦¬ì†ŒìŠ¤ ë‚­ë¹„ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•¨!
  
![ì´ë¯¸ì§€](/assets/images/JSP&Servlet/ì‹¤ì „JSP/13ê°•/13ê°•_1.png)
  
ë”°ë¼ì„œ ì´ë²ˆ ê°•ì¢Œì—ì„œëŠ” ë‹¤ìŒì˜ ë‘ ê°€ì§€ë¥¼ í•™ìŠµí•˜ê²Œ ë©ë‹ˆë‹¤.  
1. í´ë¼ì´ì–¸íŠ¸ ìª½ì— ì¿ í‚¤ë¥¼ ìƒì„±í•˜ì—¬ ì—°ê²°ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ë°©ë²•  
2. ì €ì¥ë˜ì–´ ìˆëŠ” ë°ì´í„°ë¥¼ ì¬ì—°ê²° ì‹œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•
  
## 13-2. Cookie êµ¬í˜„
![ì´ë¯¸ì§€](/assets/images/JSP&Servlet/ì‹¤ì „JSP/13ê°•/13ê°•_2.png)  
  
### ì‹¤ìŠµ
ì²«ë²ˆì§¸. ë¡œê·¸ì¸ì„ ìœ„í•œ login.jsp ì‘ì„±  
   
```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

	<%
		Cookie[] cookies = request.getCookies();
		System.out.println("cookies : " + cookies);
	
		if(cookies != null){
			for(Cookie c : cookies){
				if(c.getName().equals("memberID")){
					response.sendRedirect("loginOK.jsp");
				}
			}
		}
	%>
	
	
	<form action = "loginCon" method = "post">
		ID : <input type = "text" name = "mID"><br>
		PW : <input type = "password" name = "mPW"><br>
		<input type = "submit" value ="login" >
	</form>
</body>
</html>
```
> ì¿ í‚¤ê°€ ë„ì´ ì•„ë‹Œì§€ í™•ì¸í•˜ëŠ” ë¬¸ì¥ì„ í¬í•¨í•˜ê³  ìˆë‹¤!

ë‘ë²ˆì§¸. ë¡œê·¸ì¸ ì»¨íŒí•˜ëŠ” loginCon.servlet

```java
package com.servlet;

import java.io.IOException;
import java.io.PrintWriter;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.Cookie;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;


@WebServlet("/loginCon")
public class LoginCon extends HttpServlet {
	private static final long serialVersionUID = 1L;

	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		
		PrintWriter out = response.getWriter();
		
		String mID = request.getParameter("mID");
		String mPW = request.getParameter("mPW");
		
		out.print("mID : " + mID);
		out.print("mPW : " + mPW);
		
		Cookie[] cookies = request.getCookies();
		Cookie cookie = null;
		
		for(Cookie c : cookies) {
			System.out.println("c.getName() : "+ c.getName() +"c.getValue() : "+ c.getValue());
			
			if(c.getName().equals("memberID")) {
				cookie = c;
			}
		}
		
		if(cookie == null) {
			System.out.println("cookie is null");
			cookie = new Cookie("memberID", mID);
		}
		
		response.addCookie(cookie);
		cookie.setMaxAge(60*60); // 1ì‹œê°„ ìœ íš¨
		
		response.sendRedirect("loginOK.jsp");
	}


	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		// TODO Auto-generated method stub
		doGet(request, response);
	}

}
```

ì„¸ë²ˆì§¸. loginì‹œ ë¦¬ë‹¤ì´ë ‰ì…˜ ë˜ëŠ” login.jsp  
   
```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<%
		Cookie[] cookies = request.getCookies();
		for(Cookie c : cookies){
			out.print("name : " + c.getName() + "<br>");
			out.print("value : " + c.getValue() + "<br>");
			out.print("--------------------------------");
		}
	%>
</body>
</html>
```
  
ë-!ğŸ˜‹  
