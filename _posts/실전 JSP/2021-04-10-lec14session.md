---
title: "[ì‹¤ì „ JSP] 14. Session"
excerpt: "Sessionì— ëŒ€í•´ ì•Œì•„ë³´ì"
toc: true
toc_sticky: true
categories:
  - JSP
tags:
  - JSP
  - Servlet
  - Session
  - ì›¹í”„ë¡œê·¸ë¨
last_modified_at: 2021-04-10 19:02:20
---

# 14. Session
<span style="color:grey">[ì‹¤ì „ JSP (renew ver.) - ì‹ ì… í”„ë¡œê·¸ë˜ë¨¸ë¥¼ ìœ„í•œ ê°•ì¢Œ] ë‚´ìš©ì…ë‹ˆë‹¤.</span>

í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ì˜ ì—°ê²°ì„ ìœ ì§€ì‹œì¼œì£¼ëŠ” ë°©ë²• ë‘ë²ˆì§¸.  
`ì„¸ì…˜`ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì  

ì„¸ì…˜ì„ ë§Œë“œëŠ” ê²ƒì€ ì›¹ì»¨í…Œì´í„°(ì„œë²„)ì—ì„œ ë§Œë“¤ê²Œë˜ê³ ,  
ê·¸ê²ƒì„ ì´ìš©í•´ì„œ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°€ ìœ ì§€ëœë‹¤.  
> ì¿ í‚¤ëŠ” í´ë¼ì´ì–¸íŠ¸(ë¸Œë¼ìš°ì €)ì— ìƒì„±/ì €ì¥ì´ ëœë‹¤!

## 14-1. Sessionì´ë€?
![ì´ë¯¸ì§€](/assets/images/JSP&Servlet/ì‹¤ì „JSP/14ê°•/14ê°•_1.png)

ì¿ í‚¤ì™€ ë§ˆì°¬ê°€ì§€ë¡œ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ì˜ ì—°ê²°ì„ ìœ ì§€ì‹œì¼œì£¼ëŠ” ì—­í• ì„ í•œë‹¤.  
ì°¨ì´ì ì€ğŸ¤¨  
**"ì„¸ì…˜ì„ ë§Œë“œëŠ” ê²ƒì€ ì›¹ ì»¨í…Œì´ë„ˆ(ì„œë²„)ì—ì„œ ë§Œë“¤ê³  ì €ì¥ëœë‹¤"** ì´ë‹¤.
>ì¿ í‚¤ëŠ”? ë¸Œë¼ìš°ì €(í´ë¼ì´ì–¸íŠ¸)ì— ìƒì„±, ì €ì¥ëœë‹¤  

## 14-2. Session êµ¬í˜„
![ì´ë¯¸ì§€](/assets/images/JSP&Servlet/ì‹¤ì „JSP/14ê°•/14ê°•_2.png)

### ì‹¤ìŠµ

ì²«ë²ˆì§¸. login í˜ì´ì§€ì¸ login.jsp ì‘ì„±  
   
```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

	<%
	
		if(session.getAttribute("memberID") != null)
			response.sendRedirect("loginOk.jsp"); // ì„¸ì…˜ì´ ìˆë‹¤ë©´ ë¡œê¸´ì˜¤ì¼€ì´ë¡œ ê°€
	
	%>

	<form action = "LoginCon" method = "post">
		ID : <input type = "text" name = "mID"> 
		PW : <input type = "password" name = "mPW">
		<input type = "submit" value = "login">
	</form>

</body>
</html>
```
ë‘ë²ˆì§¸. ë¡œê·¸ì¸ ì»¨íŒí•˜ëŠ” loginCon.Servlet ì‘ì„±  
  
```java
package com.servlet;

import java.io.IOException;
import java.io.PrintWriter;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;


@WebServlet("/loginCon")
public class LoginCon extends HttpServlet {
	private static final long serialVersionUID = 1L;

	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

		PrintWriter out = response.getWriter();
		
		String mID = request.getParameter("mID");
		String mPW = request.getParameter("mPW");
		
		out.print("mID : " + mID);
		out.print("mPW : " + mPW);
		
		HttpSession session = request.getSession();
		session.setAttribute("memberID", mID);
		
		response.sendRedirect("loginOk.jsp");
	}

	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		// TODO Auto-generated method stub
		doGet(request, response);
	}

}

```  
  
ì„¸ë²ˆì§¸. ë¡œê·¸ì¸ Okì‹œ ë¦¬ë‹¤ì´ë ‰ì…˜ë˜ëŠ” loginOk.jsp ì‘ì„±  
  
```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<%
		session = request.getSession();
		out.print("memberID : " + session.getAttribute("memberID") + "<br>");
	%>
	
	<form action = "LogoutCon" method = "post">
		<input type = "submit" value = "logout">
	</form>
	
</body>
</html>
```
  
ë„¤ë²ˆì§¸. loginOk.jspì—ì„œ ë¡œê·¸ì•„ì›ƒ submitì‹œ ì•¡ì…˜ë˜ëŠ” logoutCon.servlet ì‘ì„±  
  
```java
package com.servlet;

import java.io.IOException;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;


@WebServlet("/logoutCon")
public class LogoutCon extends HttpServlet {


	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

		HttpSession session = request.getSession();
		session.invalidate(); // ì„¸ì…˜ì„ ë‚ ë ¤ë²„ë¦¬ëŠ”~
		
		response.sendRedirect("login.jsp"); // ë‹¤ì‹œ ë¡œê¸´í™”ë©´ìœ¼ë¡œ 
		
	}

	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

		doGet(request, response);
	}

}

```
ë‹¤ì„¯ë²ˆì§¸. logoutConì—ì„œëŠ” sessionì„ ë‚ ë¦¬ê³ , login.jspë¡œ ë¦¬ë‹¤ì´ë ‰ì…˜ í•œë‹¤.  
  
ë-!ğŸ˜