---
title: "[스프링 입문] 섹션6. 스프링 DB 접근 기술"
excerpt: "스프링 입문 - 김영한 님의 강의 내용입니다."
toc: true
toc_sticky: true
categories:
  - Spring
tags:
  - Backend
  - Java
  - 김영한
last_modified_at: 2021-06-01 00:28:20
---

# 섹션6. 스프링 DB 접근 기술
  
<span style="color:grey">[스프링 입문 - 코드로 배우는 스프링 부트, 웹 MVC, DB 접근 기술] 내용입니다.</span>  
  
서버를 내리게 되면 이전 데이터들이 다 날아가기 때문에,  
실무에서는 DataBase(DB)를 사용한다.  
  
JPA는 객체를 쿼리 없이 바로 DB에 저장하고 관리할 수 있도록 해준다.  
스프링 데이터 JPA는 스프링에서 JPA를 굉장히 쉽게 관리할 수 있도록 한 기술이다.  
  
## 6.1. H2 데이터 베이스 설치
  
**H2** ? : 개발이나 테스트 용도로 가볍고 편리한 DB, 웹 화면 제공  
다운로드 및 설치 : <https://www.h2database.com>  
  
![이미지](/assets/images/Spring/스프링입문/섹션6/1.png)
  
1. 터미널을 열고 h2가 설치된 폴더를 접속한다.  
2. 권한을 부여하기 위해 `chmod 755 h2.sh`를 입력한다.  
3. 실행은 `./h2.sh`를 입력한다.  
4. h2 데이터 베이스가 열린다.  
  
> ctrl + C 를 하면 실행중인거 다 죽일 수 있다.  
> ctrl + Z 는 실행중인거 다 종료
  
![이미지](/assets/images/Spring/스프링입문/섹션6/2.png)
  
**데이터베이스 파일 생성 방법**
1. JDBC URL : jdbc:h2:~/test (최초 한번)  
2. ls -arlth 를 통해 ~/test.mv.db 파일 생성 확인할 것  
3. 이후부터는 jdbc:h2:tcp://localhost/~/test 이렇게 접속  
  
### 테이블 생성하기
  
테이블 관리를 위해 프로젝트 루트에 `sql/ddl.sql` 파일을 생성  
  
```sql
drop table if exists member CASCADE;
    create table member
    (
    id   bigint generated by default as identity,
    name varchar(255),
    primary key (id)
    );
```
  
> bigint 는 sql에서 사용하는 Long형이다.  
> H2 데이터 베이스에 접속해서 member 테이블을 생성할 것이다.  
  
## 6.2. 순수 JDBC
  