---
title: "[ìŠ¤í”„ë§ ì…ë¬¸] ì„¹ì…˜5. íšŒì› ê´€ë¦¬ ì˜ˆì œ - ì›¹ MVC ê°œë°œ"
published: false
excerpt: "ìŠ¤í”„ë§ ì…ë¬¸ - ê¹€ì˜í•œ ë‹˜ì˜ ê°•ì˜ ë‚´ìš©ì…ë‹ˆë‹¤."
toc: true
toc_sticky: true
categories:
  - Spring
tags:
  - Backend
  - Java
  - ê¹€ì˜í•œ
last_modified_at: 2021-05-31 20:28:20
---

# ì„¹ì…˜5. íšŒì› ê´€ë¦¬ ì˜ˆì œ - ì›¹ MVC ê°œë°œ
  
<span style="color:grey">[ìŠ¤í”„ë§ ì…ë¬¸ - ì½”ë“œë¡œ ë°°ìš°ëŠ” ìŠ¤í”„ë§ ë¶€íŠ¸, ì›¹ MVC, DB ì ‘ê·¼ ê¸°ìˆ ] ë‚´ìš©ì…ë‹ˆë‹¤.</span>  
  
## 5.1. íšŒì› ì›¹ ê¸°ëŠ¥ - í™ˆ í™”ë©´ ì¶”ê°€
  
### í™ˆ ì»¨íŠ¸ë¡¤ëŸ¬ ì¶”ê°€
  
```java
package Hello.Hellospring2.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;

@Controller
public class HomeController {

    @GetMapping("/")
    public String Home(){
        return "home";
    }
}
```
  
### íšŒì› ê´€ë¦¬ìš© í™ˆ
  
```html
<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
    <body>
        <div class="container">
            <div>
                <h1>Hello Spring</h1>
                <p>íšŒì› ê¸°ëŠ¥</p>
                <p>
                    <a href="/members/new">íšŒì› ê°€ì…</a>
                    <a href="/members">íšŒì› ëª©ë¡</a>
                </p>
            </div>
        </div> <!-- /container -->
    </body>
</html>
```
  
> ì°¸ê³ : ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì •ì  íŒŒì¼ë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë†’ë‹¤.  
  
![ì´ë¯¸ì§€](/assets/images/Spring/ìŠ¤í”„ë§ì…ë¬¸/ì„¹ì…˜5/1.png)
  
<http://localhost:8080>ì„ ì ‘ì†í•˜ë©´ ìœ„ì™€ ê°™ì´ í™”ë©´ì´ ëœ¨ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.  
  
## 5.2. íšŒì› ì›¹ ê¸°ëŠ¥ - ë“±ë¡
  
### íšŒì› ë“±ë¡ í¼ ì»¨íŠ¸ë¡¤ëŸ¬
  
```java
   public class MemberController {
      private final MemberService memberService;
      
      @Autowired // ì„œë¹„ìŠ¤ì™€ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì—°ê²°ì‹œì¼œì¤€ë‹¤.Dependency Injection ì˜ì¡´ì„± ì£¼ì…
    public MemberController(MemberService memberService) {
        this.memberService = memberService;
    }


      @GetMapping("/members/new") // GetMapping : ì£¼ë¡œ ì¡°íšŒí• ë•Œ ì“´ë‹¤.
        public String createForm(){
        return "/members/createMemberForm";
        }
}
```
  
/members/new ë¡œ ë“¤ì–´ì˜¤ê²Œ ë˜ë©´, viewResolverì— ì˜í•´ members í´ë” ë‚´  
`createMemberForm`ì„ ì„ íƒí•˜ì—¬ ì´ë™í•˜ê²Œ ëœë‹¤.  
  
> urlì— ì§ì ‘ ì¹˜ëŠ” ë°©ì‹ì„ Get ë°©ì‹ì´ë¼ê³  í•˜ë©°, ì£¼ë¡œ ì¡°íšŒí• ë•Œ ì‚¬ìš©í•œë‹¤.  
  
### íšŒì› ë“±ë¡ í¼ HTML
  
```html
<!DOCTYPE HTML>
  <html xmlns:th="http://www.thymeleaf.org">
    <body>
        <div class="container">
            <form action="/members/new" method="post">
                <div class="form-group">
        <label for="name">ì´ë¦„</label>
        <input type="text" id="name" name="name" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"> </div>
        <button type="submit">ë“±ë¡</button> </form>
        </div> <!-- /container -->
    </body>
  </html>
```
  
htmlì´ clientì—ê²Œ ë¿Œë ¤ì§€ë©´, Formì´ë¼ëŠ” íƒœê·¸ë¡œ ë¿Œë ¤ì§€ê²Œ ëœë‹¤.  
Formì€ ì‚¬ìš©ìë¡œë¶€í„° ê°’ì„ ì…ë ¥ ë°›ì„ ìˆ˜ ìˆê²Œ ë˜ì–´ìˆë‹¤.  
input íƒœê·¸ë¥¼ ë³´ë©´, text í˜•ì‹ìœ¼ë¡œ nameì´ë¼ëŠ” í‚¤ ê°’ìœ¼ë¡œ ì´ë¦„ì„ ë°›ê²Œ ë˜ì–´ìˆë‹¤.  
ë“±ë¡ ë²„íŠ¼ì„ ëˆ„ë¥´ê²Œ ë˜ë©´, action="~~"ì— ìˆëŠ” urlë¡œ **post ë°©ì‹**ìœ¼ë¡œ ë„˜ì–´ê°„ë‹¤.  
ì´ë•Œ `@PostMapping`ì„ ì°¾ì•„ ê°€ê²Œ ëœë‹¤. 
  
> ë°ì´í„°ë¥¼ Form ê°™ì€ ê³³ì— ë„£ì–´ì„œ ì „ë‹¬í•˜ëŠ” ë°©ì‹ì„ post ë°©ì‹ì´ë¼ê³  í•œë‹¤.  
  
### ì›¹ ë“±ë¡ í™”ë©´ì—ì„œ ë°ì´í„°ë¥¼ ì „ë‹¬ ë°›ì„ í¼ ê°ì²´
  
controller í´ë” ë‚´ ì‘ì„±  
  
```java
package hello.hellospring.controller;
  public class MemberForm {
      private String name;
      public String getName() {
          return name;
    }
      public void setName(String name) {
          this.name = name;
    } 
}
```  
MemberForm ë‚´ nameì— ì•„ê¹Œ ì…ë ¥í•œ ê°’ì´ ë“¤ì–´ì˜¤ê²Œ ëœë‹¤.  
  
### íšŒì› ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ íšŒì›ì„ ì‹¤ì œ ë“±ë¡í•˜ëŠ” ê¸°ëŠ¥
  
```java
@PostMapping("/members/new") // PostMapping : formë“±ì„ ì´ìš©í•´ì„œ ì „ë‹¬í• ë•Œ ì£¼ë¡œ ì“´ë‹¤.
    public String create(MemberForm form){
        Member member = new Member();
        member.setName(form.getName());
        memberService.join(member);
        return "redirect:/"; // í™ˆ í™”ë©´ìœ¼ë¡œ ë³´ë‚´ë²„ë¦¬ì!
    }
```
  
post ë°©ì‹ìœ¼ë¡œ ë„˜ì–´ì˜¬ë•Œ ìœ„ì²˜ëŸ¼ `@PostMapping`ì„ ì°¾ì•„ì„œ ì˜¤ê²Œëœë‹¤.  
urlì€ ê°™ì§€ë§Œ, ì „ë‹¬ë°©ì‹ì´ getì´ëƒ postëƒì— ë”°ë¼ í™”ë©´ì´ ë‹¬ë¼ì§„ë‹¤.  
  
## 5.3. íšŒì› ì›¹ ê¸°ëŠ¥ - ì¡°íšŒ
  
### íšŒì› ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì¡°íšŒ ê¸°ëŠ¥
  
```java
@GetMapping("/members")
    public String list(Model model){
        List<Member> members = memberService.findMembers();
        model.addAttribute("members", members);
        return "/members/memberList";
    }
```
  
### íšŒì› ë¦¬ìŠ¤íŠ¸ HTML
  
```html
<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
    <body>
    <div class="container">
        <div>
            <table>
                <thead>
                <tr>
                    <th>#</th>
                    <th>ì´ë¦„</th> </tr>
                </thead>
                <tbody>
                <tr th:each="member : ${members}">
                    <td th:text="${member.id}"></td>
                    <td th:text="${member.name}"></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div> <!-- /container -->
    </body>
</html>

```
  
íšŒì› ê°€ì…ì„ í•œ í›„ íšŒì› ëª©ë¡ì„ í´ë¦­í•˜ë©´, 
<http://localhost:8080/members>ë¡œ ì´ë™ë˜ê³  ì•„ë˜ì™€ ê°™ì´ í™”ë©´ì´ ëœ¨ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.  
  
![ì´ë¯¸ì§€](/assets/images/Spring/ìŠ¤í”„ë§ì…ë¬¸/ì„¹ì…˜5/2.png)
  
ë-!ğŸ˜„